-content_for :title, "Notification Group Management"
= render :partial => 'index_scripts'

#search_bar.hidden
  =form_tag :notification_groups, :id=>'hidden_form', :method=>:get do
    =hidden_field_tag :per_page, @per_page
#notification_groups
  =form_tag :remove_groups_notification_groups, :id=> 'notification_group_list', :method => :post do
    %table(cellspacing="0")
      %tfoot
        %tr
          %td.wrap_number_rows
            =select_tag :number_rows,
                    options_for_select([[5, 5], [10, 10], [20, 20], [50, 50], [100, 100]], @per_page),
                    :class=>'per_page'
          %td(colspan='2')=will_paginate @notification_groups
        %caption
          Notification Groups Management
          =will_paginate @notification_groups
        %br
        %tr
          =link_to "+ Create Notification Group", new_notification_group_path, class: 'button_blue button_index'
      %tr.heading_row
        %td(scope="col") Friendly Name
        %td(scope="col") Delete?
        %td(scope="col") Scan?
      -if @notification_groups.size > 0
        -@notification_groups.each do |ng|
          %tr
            %td
              =link_to ng.friendly_name, edit_notification_group_path(@ssl_slug, ng.id)
            %td
              =check_box_tag "remove_groups[]", ng.id, false, class: 'chk-remove', 'data-group-name' => ng.friendly_name
            %td
              =check_box_tag "scan_groups[]", ng.id, false, class: 'chk-scan'
      -else
        %tr
          %td(colspan='3')
            There are no notification groups
    -if @notification_groups.size > 0
      =submit_tag 'Save', :id => 'btn_remove_groups', :disabled => true
      =submit_tag 'Scan', :id => 'btn_scan_groups'

